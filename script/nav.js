// Generated by CoffeeScript 1.3.1
(function() {

  $(function() {
    var html$, sections$, should_hide_sections;
    html$ = $('html');
    sections$ = $('nav sections');
    should_hide_sections = false;
    sections$.on('transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd', function() {
      if (!should_hide_sections) {
        return;
      }
      return sections$.children().css({
        display: 'none'
      });
    });
    return $('nav menu action').on('click', function(evt) {
      var section, target_section, _i, _len, _ref;
      should_hide_sections = false;
      if (!(target_section = $(evt.target).data('target-section'))) {
        return;
      }
      if (html$.hasClass('nav-expanded') && sections$.hasClass("" + target_section + "-active")) {
        should_hide_sections = true;
        return html$.removeClass('nav-expanded');
      }
      if (!html$.hasClass('nav-expanded')) {
        sections$.children().cssNoTrans({
          display: 'block'
        });
        html$.addClass('nav-expanded');
      }
      _ref = sections$.children().map(function(i, n) {
        return n.nodeName.toLowerCase();
      });
      for (_i = 0, _len = _ref.length; _i < _len; _i++) {
        section = _ref[_i];
        sections$.removeClass("" + section + "-active");
      }
      return sections$.addClass("" + target_section + "-active");
    });
  });

}).call(this);
